(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34f2d3eb"],{6425:function(t,e,n){"use strict";n("ac26")},"78a3":function(t,e,n){t.exports=n.p+"img/copy.c0c45796.png"},"7ee2":function(t,e,n){t.exports=n.p+"img/community.0bae623d.png"},"857a":function(t,e,n){var a=n("1d80"),s=/"/g;t.exports=function(t,e,n,i){var o=String(a(t)),r="<"+e;return""!==n&&(r+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),r+">"+o+"</"+e+">"}},9911:function(t,e,n){"use strict";var a=n("23e7"),s=n("857a"),i=n("af03");a({target:"String",proto:!0,forced:i("link")},{link:function(t){return s(this,"a","href",t)}})},a9e8:function(t,e,n){"use strict";n("b78f")},ac26:function(t,e,n){},af03:function(t,e,n){var a=n("d039");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b6fb:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[t._m(0),a("div",{staticClass:"info"},[a("div",{staticClass:"info-card"},[a("div",{staticClass:"header"},[a("router-link",{attrs:{to:"/earnings"}},[a("img",{attrs:{src:n("d759")}})])],1),a("div",{staticClass:"income"},[a("span",[t._v("质押收益")]),a("span",[t._v(t._s(t.income.toFixed(3)))]),t.$isBind?a("van-button",{style:{background:t.changeColor},attrs:{disabled:t.isDisabled},on:{click:function(e){t.benefits=!0}}},[t._v(t._s(t.$t("home.text2")))]):a("van-button",{on:{click:t.generate}},[t._v(t._s(t.$t("app.text11")))])],1),a("van-overlay",{staticClass:"Get-benefits",attrs:{show:t.benefits},on:{click:t.maskHandler}},[a("div",{on:{click:t.handler}},[a("div",{staticClass:"benefits"},[a("span",[t._v(t._s(t.income))]),a("span",[t._v("领取收益/GCT")])]),a("div",{staticClass:"destroyed"},[a("span",[t._v("领取销毁 "+t._s(.1*t.income)+" GCT")]),a("span",[t._v("实际到账 "+t._s(.9*t.income)+" GCT")])]),a("van-button",{on:{click:t.settlement}},[t._v(t._s(t.$t("app.text4")))])],1)]),a("div",{staticClass:"powers"},[a("div",[a("span",{domProps:{textContent:t._s(t.$t("home.text3"))}}),a("span",{domProps:{textContent:t._s(t.pledgePower)}})]),a("img",{attrs:{src:n("05d5"),alt:""}}),a("div",[a("span",{domProps:{textContent:t._s(t.$t("home.text4"))}}),a("span",{domProps:{textContent:t._s(t.linkPower)}})])])],1)]),a("div",{staticClass:"Thepledge"},[a("div",{staticClass:"Thepledge-i"},[a("div",{staticClass:"Thepledge-ii"},[a("div",[a("span",[t._v("我的质押中")]),a("span",[t._v(t._s(t.myPledge.toFixed(4)))])]),a("img",{attrs:{src:n("0fb3")}})]),a("div",{staticClass:"navbar"},[a("router-link",{attrs:{to:"pledge"}},[a("div",{staticClass:"navbar-item",class:{active:"burning-dig"===t.active},on:{click:function(e){t.active="burning-dig"}}},[a("span",{domProps:{textContent:t._s(t.$t("home.text6"))}})])]),a("div",{staticClass:"navbar-item"},[a("span",{domProps:{textContent:t._s(t.$t("home.text7"))},on:{click:t.Redemption}})])],1)])]),a("van-overlay",{staticClass:"Redemption",attrs:{show:t.Redemptions}},[a("div",[a("span",[t._v("您当前有收益未领取，赎回时自动领取")]),a("div",[a("van-button",{on:{click:t.confirmRedemptions}},[t._v("我知道")])],1)])]),a("div",{staticClass:"community"},[a("div",{staticClass:"community-i"},[a("div",[t._m(1),a("div",[a("span",[t._v("社区邀请码")]),a("span",[t._v(t._s(t.code.toUpperCase())+" "),a("img",{attrs:{src:n("78a3")},on:{click:function(e){return t.copy(t.code)}}})])])]),a("div",[a("router-link",{staticClass:"routerlink",attrs:{to:"invitation"}},[a("img",{attrs:{src:n("d602")}}),a("img",{attrs:{src:n("f80d")}})])],1)])]),a("div",{staticClass:"mecommunity"},[a("div",{staticClass:"mecommunityi"},[a("div",[a("span",[t._v("我的社区")]),a("router-link",{attrs:{to:"community"}},[a("img",{attrs:{src:n("e7c9")}})])],1),a("div",{staticClass:"communityi"},[a("div",{staticClass:"communityi-one"},[a("span",[t._v(t._s(t.count))]),a("span",[t._v("邀请数量")])]),a("div",{staticClass:"communityi-two"},[a("span",[t._v(t._s(t.incomes)+" GCT")]),a("span",[t._v("累计总收益")])])])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alliance"},[a("div",[a("img",{attrs:{src:n("e843")}}),a("div",[a("span",[t._v("绿 碳 链 盟")]),a("span",[t._v("Green Carbon Chain Alliance")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:n("7ee2")}})])}],i=n("5530"),o=(n("99af"),n("fb6a"),n("0d03"),n("b680"),n("d3b7"),n("25f0"),n("9911"),n("4795"),n("96cf"),n("1da1")),r={data:function(){return{active:"burning-dig",address:"",income:0,pledgePower:0,linkPower:0,isDisabled:!1,changeColor:"#30C699",code:"******",count:0,sum:0,balance:0,incomes:0,benefits:!1,Redemptions:!1}},created:function(){this.$contracts&&this.init()},computed:Object(i["a"])({},Vuex.mapState(["balance","myPledge"])),methods:{confirmRedemptions:function(){this.Redemptions=!1,this.$router.push("/Redeemthepledge")},Redemption:function(){var t=this;0!=this.income?(vant.Toast("您当前有收益未领取，赎回时自动领取"),setTimeout((function(){1!=t.benefits&&t.$router.push("/Redeemthepledge")}),2e3)):this.$router.push("/Redeemthepledge")},handler:function(t){t.stopPropagation(),t.cancelBubble=!0},maskHandler:function(){this.benefits=!1},copy:function(t){var e=this;this.$copyText(t).then((function(t){vant.Toast.success(e.$t("home.text50"))}),(function(t){vant.Toast.fail(e.$t("home.text51"))}))},generate:function(){this.$getIsBind(!0)},init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$contracts.HaloConsensus.methods.nodeInfomationOf(t.$address).call((function(e,n){e||(t.incomes=n.totalProfix.fromWei().toFixed(4))})),t.$contracts.CNS.methods.defaultDomainOf(t.$address).call({from:t.$address},(function(e,n){console.log(e),e||(t.changeColor="#F99C00",t.isBind=!0,t.code=n.slice(0,-4),t.link="".concat(location.href,"?code=").concat(t.code))})),e.prev=2,t.$web3.eth.getBalance(t.$address).then((function(e){t.balance=e.fromWei().toFixed(),t.$store.commit("balance",t.balance),console.log(t.balance)})),e.next=6,t.$contracts.HaloConsensus.methods.nodeInfomationOf(t.$address).call({from:t.$address});case 6:n=e.sent,t.$store.commit("myPledge",n.pledge.fromWei()),0!=n.pledge.fromWei()&&t.$contracts.HaloConsensus.methods.withdrawPledgeReward().call({from:t.$address},(function(e,n){e||(t.pledgePower=n.pledgeReward.fromWei().toFixed(4),t.linkPower=n.linkReward.fromWei().toFixed(4),t.income=n.pledgeReward.toBN().add(n.linkReward.toBN()).toString().fromWei().toFixed(4),t.$store.commit("pledgePower",t.pledgePower),t.$store.commit("income",t.income))})),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](2);case 13:t.$contracts.Relations.methods.childrenOf(t.$address).call({from:t.$address},function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n,a){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n||!(a.length>0)){e.next=12;break}s=0;case 2:if(!(s<a.length)){e.next=11;break}return t.count=a.length,e.next=6,t.$contracts.HaloConsensus.methods.nodeInfomationOf(a[s]).call({from:t.$address});case 6:i=e.sent,t.sum+=i.pledge.toBN().add(i.extension.toBN()).toString().fromWei();case 8:s++,e.next=2;break;case 11:t.loading=!1;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()},settlement:function(){var t=this;if(""==this.income||void 0==this.income||0==this.income)vant.Toast.fail(this.$t("home.text8"));else try{this.isDisabled=!0,this.changeColor="#F99C00",vant.Toast.loading({message:this.$t("home.text41"),loadingType:"spinner",forbidClick:!0,duration:0}),this.$contracts.HaloConsensus.methods.withdrawPledgeReward().send({from:this.$address}).on("transactionHash",(function(t){})).on("receipt",(function(e){t.$reload(),vant.Toast.clear(),vant.Toast.success(t.$t("home.text9")),t.init(),setTimeout((function(){t.isDisabled=!1}),2e3)})).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail(t.$t("home.text43")),setTimeout((function(){t.isDisabled=!1}),2e3)}))}catch(e){}}}},c=Object(i["a"])({},r),d=c,l=(n("6425"),n("a9e8"),n("2877")),m=Object(l["a"])(d,a,s,!1,null,"2c940e9a",null);e["default"]=m.exports},b78f:function(t,e,n){},d602:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAETklEQVR4Xu3dT2gcdRQH8Pf9TQg785ttRGtoD2pTMfaoN08evIkVFEVUsHj01lIPKSpa8U+VChXBq2ARq6AoFPGkoDdPerJGWwMVSTTFdMeZyRDymye/bRPzZ9OdmQdSd97AQsL+vr/d98nb3UxgXkANj16vd0cQBAeJ6B5jzJ6yLPcC2EtEccMt/6tYyszzxph5Ipovy/K7sbGxs51O53yTJ4A6oTRN9xhjjpRl+TCA6TrZ630tgNmyLD8nolNxHP9R9flWAmTmbpqmx4wxh4nIVt38/7gOgO/Qt6MoOgkgGVbDUMDl5eWnnXNvAbhp2GYjdv8lIpqx1r53rbp2BGRmZFnmfwrPjhhMrXIAnAzDcAYADwoOBGTmTp7nHxDRI7UebUQXA/gkDMOnABRbSxwImKbpGQCPj6hHo7IAnImi6MmhgFmWPUdErzV6lBEPMfOxOI7f3Fjmpg5MkuShIAg+JSIz4hZNy3NE9Ki11v+60z/WAZl5V57nF4hod9PdW5K7FEXRPgDZJsAsy14iouMtQRCVaYx5MQzDV9YBkyTZbYw5D2BCtHNLwsx82Tl3+8TExF/9l3CWZb7zfAfqUVFgrQvXAL8norsqZnXZFYEfrLV3Y2lpad/4+PivGz9QVKiSABtj9iPP88P+5LlSRBdtEgBwxJ/vvk9Eh9SmkcBp34FfMfN9jeItDwH42gOeY+YDLbdoWv6PSNO0B2BX0x1anrvs3wMH/p2r5TCVy1fAylSDFyqgAgoFhHHtQAUUCgjj2oEKKBQQxrUDFVAoIIxrByqgUEAY1w5UQKGAMK4dqIBCAWFcO1ABhQLCuHagAgoFhHHtQAUUCgjj2oEKKBQQxrUDFVAoIIxrByqgUEAY1w5UQKGAMK4dqIBCAWFcO1ABhQLCuHagAgoFhHHtQAUUCgjj2oEKKBQQxvVCGwEgMycecHbU5mAJTGpFmflnD/gNgHtrJXVxX4CZv/WAHwN4TE3qCwD4yF+tOcPMb9SPa6J/wXWSJAeCIDinHLUFeGVlZX9/6IReM1wbzweuDJ3wX6VpegLAsUbbtDd03Fr7ch+w1+vdGATBBQA3tNejeuXbBu/4qE5tqw5IRM9ba1/3ifXhYwsLC7bb7f5CRH4Srx47C/weRdE0gHwToP+mKIr7nXNniShQwYECfvzdg9baL9fu3TbB0k/rBXBCAbcLDB3AuBZJ0/RDAE8o4r8ClUeA+ggzh3men/bTGhWR6OoQ2kMAlrd6XHOO9NWXs5+n2taRoI6ZX4jjeMdT3aGDuIuieMA59y4R3daybrxIRM9s/MAYVP9QQB+am5vrTE5OHvVvogC6owzJzH8T0auLi4vvTE1NbZsbXeslvHUxM9+cZdlRIvL/jODOUYJk5lljzGfOuVPdbvfPqrVV6sBBmxVFMb26unowCIJp59ytAG4hIn+73uew9ojoN38zxlxk5p+MMV90Oh1/ElH7+AdnwvHtD+bFGQAAAABJRU5ErkJggg=="},d759:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAADKElEQVRYR8VYQWsTQRT+XrZpe/MgChUEhYqe9aSiKCJKbWdooz34C8QqKIoKogcFoRhRsQievdWmyUxqVaRWBL0p4qmlHjw1oih4EBKazJNZd5c1bciu3aQLScjszPe+efvmve8twbuUUtsBnCWigwDW++MJ//5g5lkAD6SU8xab7JdS6hgRPQLQkbDBRnBlZh6RUj4lu3MiegGgu03GfTNVZj5gCYwR0fGQ8QUAH1pEZieAbT42M09YAp+IaKMdZGCuUi4fGh4errWCwPj4uNPV3T1DwA7XHvM30lp/DRl7KIS40QrjPqbW+jqA0/7/egJZIUTWC8xeAOeIqCcKIWYuGWOyg4ODX+z8QqGw2XGcC8aYSjqdzvb19X2341rriwDsx70aEtBav4bnqigEXJcSfZQDA0e9DUwS0R7P1RNSyjOxCIRjIyoBAItCCBtodqfhDbwSQpyMRUBrLZn5ph+gzUjYgAJwSUr53POATWj3ieg3gBEhhHuymj2Cu0KI0WbGVnNfa30ZwPkgBpRS80S0zht4K4TIrMZAs7Va6xyAvd68nzYPPCaiw6GFRSKaZeZqM7A494mog5ntYxkIrXtGhampfSljnsQBS2quMWbILUZa66u2EiYFHBHHjTeXgEdCegkiyNURgeJOW6gCo0NCTNmFAQEfJZfL9aTT6R5jTOLVsbOzc8HPiMEpiEs/6fnLPJC0gWZ4ywhMT09vqNVqthAlejFzZWlpqZTJZEph4PogvAJga6KWl4NZwWOrrgqCcC2OIadSt2V//x0qFou7mTnf4l2vCG+MOdEwFddqtURlmeM4Tn0qZuaXlkBQjJj5nZRyqJXeUEqFhcqvekXU/nJcJ0oDTWgFCYBbUbskV+ESXfOjWyn1X4IkLEoDuR7jkSQqydZWlObz+S2pVMrK500RPbBYL8vteiYqpx0nsixvf2PyT2vGPFepVFrbmnV1zRCR25pZGb9ic0pE7yO6PdY0Zt61UnPaS0Q24Nr1buAvaaIyG3PErYaTWvd3EI2BOXEV1MBF1SpwysqyoBz7r2gA7I/aDcXyv9eOA3gD4J6U8rNd/wcqZrR+xj2yswAAAABJRU5ErkJggg=="},e7c9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAaCAYAAAC+aNwHAAABoklEQVQ4T5XUwUrDQBAG4H8SLypV8D0ED6KIoHgoWt9G0dLayRqTrVZL+zYqih5EENGnUWppacnKlk2wcZumuQSW+b+ZSUII5grD8JSIVpi5Gp/luZMuCsOwSkSXJtCYBaFUOG4qmdnLNYGU8gKAsBTnQkYrSClDAGxBAmY+z5pkBGQhSin2PK8+CUkAg+jCs3RxFjIGGOQKQCUv8g+YglQ8z7v+i1uBWZCJgEaCILh2HKdsWSeZJBMwX+kNEZ2mESI6qdVqramAWacF4NjyKo+mAu12e77b7d4C2PsLKKW6SqnDTMD3/QXXde+IaNcWFkK8TASazeZiv9+/A7CTGv0niqKSEOJVn1sBHe71eg9EtJ0VtgLlcrlQKBTu02GlVEfvHHeO4bEJTFh33krt3CGifWZ++/c64wPf95dc130kos284WSFRqOxPBgMdHgj1eEbQMnWOVlBh4fD4ROAdUtYj/0+6V8wmkBK+QigmCr6AnAwLTwC6vX6mlLqGcCKQXKHk2dgEL3GXBRFRSHEZ9bY1v9BEASrjuPMM/NH3rCu+wVXVs7cDTFTDgAAAABJRU5ErkJggg=="},e843:function(t,e,n){t.exports=n.p+"img/alliancelogo.8aaa841a.png"},f80d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAEiklEQVRYR+2YT2gcdRTHv29msomSQw4ecvAQoUgtpVmw/kmimD1ZQU9WrBChxSZpiH9aTKmS3yQ/dzehUoMVKbtJhUYSUIlHIR4KG2iyibSH3dLaIoIResihBw+iSZzZJ7/NzDhZ3NnZzUaK5Hebmd/vzWfe/N73vfcjAEgmk68DkAD2q+uwg5kXmXloZGTkh9I18Xj8GSL6hIieC2vPmXdXsQghviEH7OsqDXjTmfl327Y7pJS33JtSyoO6ri8TUXOtdgEcU3B3qvVY6QuZedY0zTfd+4lEYoaIenYAppbeVXDsGikUCmeJ6EZIo2/5ABaEEDF3XTKZzADodq6nmfnLMDaZ+bCmaRfcudvgmDlmmuZCGENjY2OjzKz2qRpl4YhIDg8PfxTGZiKR6CYi9WHFsQdXd89JKVt0Xb9DRK3KxUo2TNN83nV5rb81kUhcc+WFmdds235CSvmbshv6t0op2wzD+MW/V4QQtFM4fwAqW5ZlPSalXN0pnCWEaHhQ4JoMw5gH0OYAfS+EGKgDXArAEcfOqmVZL0kp16vyXKXQr3XPBdkNvef24Eo8EOg5ABcB5Cp5zZGWo0T0cqUMwczfEdG3YWwCiAI47cy1VIa4BqDasqb0XReFEGfcm8lk8nMAb4cEKjdtUcEpMJXPjFqMOUL6lJTynrteSvmoruvXXQGvwa4FIFYUVSnlYV3XzxHRQQBNIY0pVV+xLGvMD+YDVCJ+DsCzAFpC2lxn5lu2bX8spbzhKX7Ixf/ptD24Wt1d9Fw8Hn+SiD6oZc8BOC+E+NUPcCBzqTkSMWYAtrD5Z28udqZYdajxeGbykYcbcRnglr9g997uHPzZW5uRRjTSepmB/aQZQzQ+Pv6CbdtXiahu0dqeTacIdGrrpXQ619n3mQvQvpRWgXe+qJWE2XxHv9d7HFpKH9WI5hwdXdkVnYtmpzIAb/UQBJnr6PfK9Ojy5Ci42Iaqhwu5zj6v94gupY6DtCvOh6xuK9NVhigUCvkwe4SIXi2XIXYFrl4NTnQ5fQVMx4sfyYUTua6BafeDgzx3KJs+ooFUmabG1V1pcA5kLrVGGvX3mXA/v742gZhUil8cQXDF59nJwWJAbBQmdgUuaFtUgvOvLQsnpWzSdX2eiKquhNuzUy8S8yyAe4XNjVduxt718m40O/UewKr6AYPS+c4+r7qOZj5t4chD8wTaB/DJILhtDQ4zW6Zphuoh2rOT8+SU4swYynf1T7geKWpgo5EAccvmuv3hj7HBNZ/M9BDRjHOdCw2nFoTtvoKiNfCXB0mJP1pL+1YAi0KIUH1roJRkUm0c0WYIaOYG6sk/3XfbC5awcJW0LqjBCYTLpi8ANLQlM/gi19Xf++DA+TWQeDrXcerE/wJuSNf1UOdztm2fLHc+F5y+fNkjhOfqfrJZN7h4PH5M07SvKgVAuef/dibs17nSkikaEBDtS+l/dI6x1UM4gKNVng2rfKkanLNSyhU/fHQ51c2spQi89scGvfZTrP++t+kzqTY0anMMbmLmN252DXgH3UqgGxqNOQL2FcDv/A1VMt6IWKA4igAAAABJRU5ErkJggg=="}}]);